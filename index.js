(function(t,d,l,r,a){"use strict";function c(){const e=l.findByProps("ack","ackMessage");if(!e){console.error("[ReadAll] ERROR: ReadStateStore not found!");return}Object.keys(e.getUnreadCount()).forEach(function(o){e.ack(o)}),console.log("[ReadAll] Marked all messages as read.")}function i(){console.log("[ReadAll] Searching for sidebar components...");const e=["GuildsList","Guilds","GuildSidebar","GuildContainer","Sidebar","ServerList","Servers"];for(const o of e){const n=l.findByProps(o);if(n)return console.log(`[ReadAll] Found component: ${o}`),n}return console.error("[ReadAll] ERROR: No sidebar component found!"),null}function s(){const e=i();if(!e){console.error("[ReadAll] ERROR: Sidebar component not found. Aborting injection.");return}console.log("[ReadAll] Injecting button into sidebar..."),d.after("default",e,function(o,n){return n?(console.log("[ReadAll] Injecting button..."),n.props.children=[r.React.createElement("div",{style:{padding:10,marginBottom:10}},r.React.createElement(a.Button,{onClick:c,style:{width:"100%"}},"\u2705 Read All")),...n.props.children],n):(console.error("[ReadAll] ERROR: Sidebar component returned empty."),n)}),console.log("[ReadAll] Button injection complete.")}var u={onLoad:function(){console.log("[ReadAll] Plugin loaded!"),s()},onUnload:function(){console.log("[ReadAll] Plugin unloaded!")}};return t.default=u,Object.defineProperty(t,"__esModule",{value:!0}),t})({},vendetta.patcher,vendetta.metro,vendetta.metro.common,vendetta.ui.components);
