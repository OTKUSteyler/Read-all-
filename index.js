(function(r,e,n,d,o,a){"use strict";const{FormSwitch:u}=o.Forms;function f(){return e.React.createElement(u,{label:"Mark DMs as Read",value:n.storage.includeDMs,onValueChange:function(t){n.storage.includeDMs=t}})}const{markRead:l}=a.findByProps("markRead"),{getGuilds:g}=a.findByProps("getGuilds"),{getSortedPrivateChannels:h}=a.findByProps("getSortedPrivateChannels");let s=[];n.storage.includeDMs??=!0;const R=function(){d.registerSettings("mark-all-read-settings",f),s.push(before("default",a.findByProps("DrawerNavigator"),function(t){let[c]=t;if(!c?.children)return;const b=function(){const k=function(){Object.keys(g()).forEach(function(i){return l(i)}),n.storage.includeDMs&&h().forEach(function(i){return l(i.channel.id)}),e.ReactNative.Alert.alert("Success","All messages marked as read!")};return e.React.createElement(e.ReactNative.TouchableOpacity,{style:{position:"absolute",top:40,left:10,backgroundColor:"#7289DA",padding:10,borderRadius:5,zIndex:999},onPress:k},e.React.createElement(e.ReactNative.Text,{style:{color:"white",fontWeight:"bold"}},"Mark All Read"))};c.children=e.React.createElement(e.React.Fragment,null,e.React.createElement(b,null),c.children)}))},v=function(){s.forEach(function(t){return t()}),s=[]};return r.onLoad=R,r.onUnload=v,r})({},vendetta.metro.common,vendetta.plugin,vendetta.settings,vendetta.ui.components,vendetta.metro);
