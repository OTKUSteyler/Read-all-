(function(t,n,d,a,c){"use strict";const l=n.findByProps("ackMessage","getUnreadCount","isMentioned"),r=n.findByProps("getChannel","getDMFromUserId"),o=n.findByProps("Guilds","container","scroller");console.log("[ReadAll] Checking UI components..."),o||console.error("[ReadAll] ERROR: GuildsList component not found!");function u(){const s=r.getChannels();let e=0;Object.values(s).forEach(function(i){l.getUnreadCount(i.id)>0&&(l.ackMessage(i.id),e++)}),c.showToast(`\u2705 Marked ${e} messages as read!`)}function g(){if(!o){console.error("[ReadAll] ERROR: GuildsList not found. Button injection failed.");return}console.log("[ReadAll] Found GuildsList, injecting button..."),d.after("default",o,function(s,e){return e?(console.log("[ReadAll] Injecting button into the sidebar..."),e.props.children=[n.React.createElement("div",{style:{padding:10,marginBottom:10}},n.React.createElement(a.Button,{onClick:u,style:{width:"100%"}},"\u2705 Read All")),...e.props.children],e):(console.error("[ReadAll] ERROR: GuildsList returned empty."),e)}),console.log("[ReadAll] Button injected successfully.")}var R={start(){console.log("[ReadAll] Plugin starting..."),g(),console.log("[ReadAll] Plugin started.")},stop(){console.log("[ReadAll] Plugin stopping...")}};return t.default=R,Object.defineProperty(t,"__esModule",{value:!0}),t})({},vendetta.metro,vendetta.patcher,vendetta.ui.components,vendetta.ui.toasts);
