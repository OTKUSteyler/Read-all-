(function(t,c,a,n,d,r,i,u){"use strict";const{StyleSheet:g}=a.ReactNative,l=g.create({readAllButton:{backgroundColor:"#7289da",paddingVertical:8,paddingHorizontal:15,borderRadius:5,marginRight:10,alignItems:"center",justifyContent:"center"},readAllText:{color:"white",fontSize:14,fontWeight:"bold"}}),{View:f}=a.ReactNative,{FormSwitchRow:m}=u.General;function y(){return i.useProxy(r.storage),React.createElement(f,null,React.createElement(m,{label:"Mark DMs as Read",subLabel:"If enabled, direct messages will also be marked as read.",value:r.storage.markDMs??!0,onValueChange:function(e){return r.storage.markDMs=e}}))}const{View:B,TouchableOpacity:h,Text:R,Alert:v}=a.ReactNative,{markChannelAsRead:b}=n.findByProps("markChannelAsRead"),k=function(){v.alert("Confirm","Are you sure you want to mark all messages as read?",[{text:"Cancel",style:"cancel"},{text:"Yes",onPress:async function(){const e=n.findByProps("getSortedGuildChannels").getSortedGuildChannels();Object.keys(e).forEach(function(s){b(s)}),console.log("[ReadAll] Marked all messages as read.")}}])},A=function(){const e=n.findByName("NavigationBar",!1);return e?d.before("render",e.prototype,function(s,w){w.props.children.push(React.createElement(h,{style:l.readAllButton,onPress:k},React.createElement(R,{style:l.readAllText},"Mark All")))}):console.error("[ReadAll] NavigationBar not found!")};let o;const p=function(){c.registerSettings("read-all-settings",y),o=A()},C=function(){o&&o()};return t.onLoad=p,t.onUnload=C,t})({},vendetta.settings,vendetta.metro.common,vendetta.metro,vendetta.patcher,vendetta.plugin,vendetta.storage,vendetta.ui.components);
