(function(e,u,s,t,n,c,f){"use strict";const{FormSwitch:g}=f.Forms;function h(){return React.createElement(g,{label:"Enable Read All Button",value:c.storage.enabled??!0,onValueChange:function(a){c.storage.enabled=a}})}let o;const p=function(){const a=s.findByProps("ack","ackMessage");if(!a){n.showToast("Failed to find required Discord functions.",{type:"danger"});return}const r=s.findByProps("GuildsList");if(!r){n.showToast("Failed to find GuildsList.",{type:"danger"});return}o=u.after("default",r,function(F,i){return i?.props?.children&&i.props.children.unshift(t.React.createElement(t.ReactNative.TouchableOpacity,{style:{margin:10,padding:10,backgroundColor:"#5865F2",borderRadius:8},onPress:function(){const d=s.findByProps("getMutableGuilds")?.getMutableGuilds?.();d&&(Object.keys(d).forEach(function(v){const l=d[v]?.channels?.find?.(function(R){return R.is_read===!1})?.id;l&&a.ack(l)}),n.showToast("All messages marked as read!",{type:"success"}))}},t.React.createElement(t.ReactNative.Text,{style:{color:"#FFF",textAlign:"center"}},"Read All"))),i}),n.showToast("Read All Messages Button Added!",{type:"success"})},y=function(){o&&o()},b=h;return e.onLoad=p,e.onUnload=y,e.settings=b,e})({},vendetta.patcher,vendetta.metro,vendetta.metro.common,vendetta.ui.toasts,vendetta.plugin,vendetta.ui.components);
