(function(n,t,i,r,u){"use strict";const a=t.findByProps("ackMessage","getUnreadCount","isMentioned"),c=t.findByProps("getChannel","getDMFromUserId"),l=t.findByName("ConnectedGuilds",!1);let o=null;function f(){const s=c.getChannels();let e=0;Object.values(s).forEach(function(d){a.getUnreadCount(d.id)>0&&(a.ackMessage(d.id),e++)}),u.showToast(`\u2705 Marked ${e} messages as read!`)}function g(){if(!l){console.error("[ReadAll] Could not find the server navigation UI.");return}o=i.after("default",l,function(s,e){return e&&(e.props.children.unshift(t.React.createElement(r.Button,{onClick:f,style:{margin:10}},"\u2705 Read All")),e)}),console.log("[ReadAll] Button injected into server navigation.")}var v={start(){g(),console.log("[ReadAll] Plugin started.")},stop(){o&&o(),console.log("[ReadAll] Plugin stopped.")}};return n.default=v,Object.defineProperty(n,"__esModule",{value:!0}),n})({},vendetta.metro,vendetta.patcher,vendetta.ui.components,vendetta.ui.toasts);
