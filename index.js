(function(o,s,t,c,l){"use strict";const r=t.findByProps("ack","ackMessage"),d=t.findByProps("default","Sidebars"),a=t.findByProps("Button","ButtonColors");function i(){if(!r){console.error("[ReadAll] \u274C ERROR: ReadStateStore not found!"),l.showToast("\u274C Error: Read state not found",{type:"error"});return}Object.keys(r.getUnreadCount()).forEach(function(e){r.ack(e)}),console.log("[ReadAll] \u2705 Marked all messages as read."),l.showToast("\u2705 All messages marked as read!",{type:"success"})}function u(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10;if(!d||!a){if(e<=0){console.error("[ReadAll] \u274C ERROR: Sidebar/Overlay not found. Aborting.");return}console.log(`[ReadAll] \u{1F504} UI components not found, retrying... (${10-e}/10)`),setTimeout(function(){return u(e-1)},500);return}s.after("default",d,function(R,n){return!n||!n.props||!Array.isArray(n.props.children)||(n.props.children.push(c.React.createElement(a,{key:"markAllRead",text:"\u{1F4E9} Read All",onPress:i,color:a.ButtonColors.BRAND})),console.log("[ReadAll] \u2705 Sidebar button added!")),n})}var f={onLoad:function(){console.log("[ReadAll] \u{1F680} Plugin loaded! Adding sidebar button..."),u()},onUnload:function(){console.log("[ReadAll] \u{1F6D1} Plugin unloaded!")}};return o.default=f,Object.defineProperty(o,"__esModule",{value:!0}),o})({},vendetta.patcher,vendetta.metro,vendetta.metro.common,vendetta.ui.toasts);
