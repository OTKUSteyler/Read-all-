(function(t,p,o,n,s,c,l,u){"use strict";function h(){const a=u.storage.get("excludedUsers",[]),r=function(f){u.storage.set("excludedUsers",f.split(",").map(function(e){return e.trim()}))};return c.React.createElement(l.Forms.FormSection,{title:"Read All Messages Settings"},c.React.createElement(l.Forms.FormInput,{title:"Excluded Users (Comma Separated)",value:a.join(", "),onChange:r,placeholder:"Enter user IDs to exclude"}))}let i;const m=function(){const a=o.findByProps("ack","ackMessage");if(!a){s.showToast("Failed to find required Discord functions.",{type:"danger"});return}const r=o.findByProps("GuildsList");if(!r){s.showToast("Failed to find GuildsList.",{type:"danger"});return}i=p.after("default",r,function(f,e){return e?.props?.children&&e.props.children.unshift(n.React.createElement(n.ReactNative.TouchableOpacity,{style:{margin:10,padding:10,backgroundColor:"#5865F2",borderRadius:8},onPress:function(){const d=o.findByProps("getMutableGuilds")?.getMutableGuilds?.();d&&(Object.keys(d).forEach(function(R){const g=d[R]?.channels?.find?.(function(v){return v.is_read===!1})?.id;g&&a.ack(g)}),s.showToast("All messages marked as read!",{type:"success"}))}},n.React.createElement(n.ReactNative.Text,{style:{color:"#FFF",textAlign:"center"}},"Read All"))),e}),s.showToast("Read All Messages Button Added!",{type:"success"})},y=function(){i&&i()},F=h;return t.onLoad=m,t.onUnload=y,t.settings=F,t})({},vendetta.patcher,vendetta.metro,vendetta.metro.common,vendetta.ui.toasts,vendetta,vendetta.ui.components,vendetta.plugin);
