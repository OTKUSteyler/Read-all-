(function(s,o,a,l,r,d){"use strict";console.log("Initial excluded users:",r.storage.get("excludedUsers"));function i(){const t=r.storage.get("excludedUsers",[]),e=function(n){console.log("Updated excluded users:",n),r.storage.set("excludedUsers",n.split(",").map(function(u){return u.trim()}))};return o.React.createElement(a.Forms.FormSection,{title:"Read All Messages Settings"},o.React.createElement(a.Forms.FormInput,{title:"Excluded Users (Comma Separated)",value:t.join(", "),onChange:e,placeholder:"Enter user IDs to exclude"}))}const g=d.findByProps("getUnreadGuilds"),f=d.findByProps("markRead"),m=function(){console.log("\u{1F4E9} Mark All as Read button clicked.");const t=g?.getUnreadGuilds?.()||[],e=r.storage.get("excludedUsers",[]);console.log("Unread Guilds:",t),console.log("Excluded Users:",e);const n=t.filter(function(u){return!e.includes(u)});if(n.length===0){l.showToast("All unread messages are from excluded users.",l.ToastType.INFO);return}console.log("\u2705 Marking these as read:",n),f.markRead(n),l.showToast("\u2705 Marked all messages as read!",l.ToastType.SUCCESS)},p=function(){return console.log("Rendering Mark All Read Button"),o.React.createElement(a.Button,{onClick:m,style:{padding:10,backgroundColor:"blue",color:"white"}},"\u{1F4E9} Mark All as Read")},R=d.findByProps("ChannelItem"),c=after("render",R,function(t,e){return e?.props?.children&&(console.log("\u{1F535} Injecting MarkAllReadButton..."),e.props.children.push(o.React.createElement(p,null))),e});var k={onLoad:function(){console.log("\u2705 Read All Messages Plugin Loaded!"),c()},onUnload:function(){return c?.()},settings:i};return s.default=k,Object.defineProperty(s,"__esModule",{value:!0}),s})({},vendetta,vendetta.ui.components,vendetta.ui.toasts,vendetta.plugin,vendetta.metro);
