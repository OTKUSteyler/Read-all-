(function(o,d,l,r,i){"use strict";function c(){const e=l.findByProps("ack","ackMessage");if(!e){console.error("[ReadAll] ERROR: ReadStateStore not found!");return}Object.keys(e.getUnreadCount()).forEach(function(t){e.ack(t)}),console.log("[ReadAll] Marked all messages as read.")}function a(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;console.log(`[ReadAll] Searching for Sidebar... (Attempt ${e})`);let t=l.findByProps("container","sidebar")||l.findByName("Sidebar",!1);return t?(console.log("[ReadAll] Sidebar found! Injecting button..."),u(t),t):e>=10?(console.error("[ReadAll] ERROR: Sidebar component not found. Aborting."),null):setTimeout(function(){return a(e+1)},500)}function u(e){d.after("default",e,function(t,n){return n?n.props.children.find(function(f){return f?.props?.id==="readall-button"})?(console.log("[ReadAll] Button already exists. Skipping re-injection."),n):(n.props.children=[r.React.createElement("div",{id:"readall-button",style:{padding:10,marginBottom:10}},r.React.createElement(i.Button,{onClick:c,style:{width:"100%"}},"\u2705 Read All")),...n.props.children],n):(console.error("[ReadAll] ERROR: Sidebar returned empty."),n)}),console.log("[ReadAll] Button injected successfully.")}var s={onLoad:function(){console.log("[ReadAll] Plugin loaded! Waiting for UI..."),setTimeout(function(){return a()},2e3)},onUnload:function(){console.log("[ReadAll] Plugin unloaded!")}};return o.default=s,Object.defineProperty(o,"__esModule",{value:!0}),o})({},vendetta.patcher,vendetta.metro,vendetta.metro.common,vendetta.ui.components);
