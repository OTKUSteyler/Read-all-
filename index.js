(function(s,t,f,c,g,e,b){"use strict";const{FormSwitch:R}=b.Forms,y=function(){return React.createElement(R,{label:"Mark DMs as Read",value:t.storage.readDMs,onValueChange:function(r){t.storage.readDMs=r}})},{View:h,TouchableOpacity:k,Text:v,Alert:u,StyleSheet:C}=e.ReactNative;t.storage.readDMs=t.storage.readDMs??!0;const n=c.findByProps("getUnreadCount","hasUnread"),a=c.findByProps("ack","ackCategory"),M=c.findByProps("NavigationContainer");(!n||!a)&&console.error("[ReadAll] Missing required functions!");const D=function(){if(!n||!a){u.alert("Error","Required functions are missing!");return}const r=n.getUnreadGuilds(),o=n.getUnreadPrivateChannels();for(const l of Object.keys(r))a.ack(l);if(t.storage.readDMs)for(const l of Object.keys(o))a.ack(l);u.alert("Success","All unread messages marked as read!")},E=function(){return e.React.createElement(h,{style:d.buttonContainer},e.React.createElement(k,{style:d.button,onPress:D},e.React.createElement(v,{style:d.buttonText},"Read All")))},d=C.create({buttonContainer:{position:"absolute",top:50,left:10,zIndex:100},button:{backgroundColor:"#7289DA",padding:10,borderRadius:5},buttonText:{color:"white",fontWeight:"bold"}});let i;const A=function(){f.registerSettings("read-all-settings",y),i=g.after("render",M.default,function(r,o){return o&&e.React.createElement(e.React.Fragment,null,o,e.React.createElement(E,null))})},U=function(){i&&i()};return s.onLoad=A,s.onUnload=U,s})({},vendetta.plugin,vendetta.settings,vendetta.metro,vendetta.patcher,vendetta.metro.common,vendetta.ui.components);
