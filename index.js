(function(t,c,l,a,d){"use strict";function i(){const n=l.findByProps("ack","ackMessage");if(!n){console.error("[ReadAll] ERROR: ReadStateStore not found!");return}Object.keys(n.getUnreadCount()).forEach(function(o){n.ack(o)}),console.log("[ReadAll] Marked all messages as read.")}function s(n){let o=0;const e=setInterval(function(){o++,console.log(`[ReadAll] Checking for sidebar component... (Attempt ${o})`);const r=l.findByProps("guilds","wrapper");r&&(console.log("[ReadAll] Sidebar component found!"),clearInterval(e),n(r)),o>10&&(console.error("[ReadAll] ERROR: Sidebar component not found. Aborting."),clearInterval(e))},500)}function u(n){console.log("[ReadAll] Injecting button into sidebar..."),c.after("default",n,function(o,e){return e?(console.log("[ReadAll] Injecting button..."),e.props.children=[a.React.createElement("div",{style:{padding:10,marginBottom:10}},a.React.createElement(d.Button,{onClick:i,style:{width:"100%"}},"\u2705 Read All")),...e.props.children],e):(console.error("[ReadAll] ERROR: Sidebar component returned empty."),e)}),console.log("[ReadAll] Button injection complete.")}var R={onLoad:function(){console.log("[ReadAll] Plugin loaded! Waiting for UI..."),s(u)},onUnload:function(){console.log("[ReadAll] Plugin unloaded!")}};return t.default=R,Object.defineProperty(t,"__esModule",{value:!0}),t})({},vendetta.patcher,vendetta.metro,vendetta.metro.common,vendetta.ui.components);
