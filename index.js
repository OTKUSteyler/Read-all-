(function(t,c,l,r,i){"use strict";function u(){const o=l.findByProps("ack","ackMessage");if(!o){console.error("[ReadAll] ERROR: ReadStateStore not found!");return}Object.keys(o.getUnreadCount()).forEach(function(n){o.ack(n)}),console.log("[ReadAll] Marked all messages as read.")}function a(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;try{console.log(`[ReadAll] Searching for Sidebar Component... (Attempt ${o})`);const n=l.findByProps("GuildsNav"),e=l.findByProps("NavWrapper","Sidebar");if(n){console.log("[ReadAll] Found GuildsNav component!"),d(n);return}if(e){console.log("[ReadAll] Found Sidebar component!"),d(e);return}if(o>=5){console.error("[ReadAll] ERROR: Sidebar component not found. Aborting.");return}setTimeout(function(){return a(o+1)},1e3)}catch(n){console.error("[ReadAll] CRITICAL ERROR:",n)}}function d(o){try{c.after("default",o,function(n,e){let[f]=n;return!e||!e.props?(console.error("[ReadAll] ERROR: SidebarComponent returned empty."),e):e.props.children.find(function(R){return R?.props?.id==="readall-button"})?(console.log("[ReadAll] Button already exists. Skipping re-injection."),e):(e.props.children=[r.React.createElement("div",{id:"readall-button",style:{padding:10,marginBottom:10}},r.React.createElement(i.Button,{onClick:u,style:{width:"100%"}},"\u2705 Read All")),...e.props.children],e)}),console.log("[ReadAll] Button injected successfully.")}catch(n){console.error("[ReadAll] Injection failed:",n)}}var s={onLoad:function(){console.log("[ReadAll] Plugin loaded! Scanning UI components..."),setTimeout(function(){return a()},2e3)},onUnload:function(){console.log("[ReadAll] Plugin unloaded!")}};return t.default=s,Object.defineProperty(t,"__esModule",{value:!0}),t})({},vendetta.patcher,vendetta.metro,vendetta.metro.common,vendetta.ui.components);
