(function(o,n,a,t,u,f){"use strict";const{FormSwitch:g}=f.Forms;t.storage.markDMs=t.storage.markDMs??!0;function h(){return n.React.createElement(g,{label:"Mark DMs as Read",value:t.storage.markDMs,onValueChange:function(e){return t.storage.markDMs=e}})}const{View:k,TouchableOpacity:v,Text:R,StyleSheet:m}=n.ReactNative;t.storage.markDMs===void 0&&(t.storage.markDMs=!0);const r=a.findByProps("ack","markChannelRead"),s=a.findByProps("getGuilds"),l=a.findByProps("getSortedPrivateChannels");(!r?.markChannelRead||!s?.getGuilds)&&console.error("[ReadAll] Missing required functions!");const B=function(){!r?.markChannelRead||!s?.getGuilds||(Object.keys(s.getGuilds()).forEach(function(e){r.markChannelRead(e)}),t.storage.markDMs&&l?.getSortedPrivateChannels&&l.getSortedPrivateChannels().forEach(function(e){r.markChannelRead(e.channel.id)}))};let i=null;const C=function(){const e=a.findByProps("NavBar","topBar","title");if(!e)return console.error("[ReadAll] Failed to find Navigation Bar!"),null;const M=function(){return n.React.createElement(v,{style:c.button,onPress:B},n.React.createElement(R,{style:c.text},"\u2714 Read All"))},d=e.NavBar;function b(P){const S=d(P);return n.React.createElement(k,{style:{flexDirection:"row",alignItems:"center"}},S,n.React.createElement(M,null))}return e.NavBar=b,function(){e.NavBar=d}},y=function(){u.registerSettings("read-all-settings",h),i=C()},D=function(){i&&i()},c=m.create({button:{padding:8,marginLeft:10,backgroundColor:"#7289DA",borderRadius:5},text:{color:"white",fontWeight:"bold"}});return o.onLoad=y,o.onUnload=D,o})({},vendetta.metro.common,vendetta.metro,vendetta.plugin,vendetta.settings,vendetta.ui.components);
