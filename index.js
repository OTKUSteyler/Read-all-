(function(n,u,a,s,l){"use strict";const r=a.findByProps("ack","ackMessage"),t=a.findByProps("HeaderBar");function c(){if(!r){console.error("[ReadAll] \u274C ERROR: ReadStateStore not found!"),l.showToast("\u274C Error: Read state not found",{type:"error"});return}Object.keys(r.getUnreadCount()).forEach(function(e){r.ack(e)}),console.log("[ReadAll] \u2705 Marked all messages as read."),l.showToast("\u2705 All messages marked as read!",{type:"success"})}function d(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10;if(!t){if(e<=0){console.error("[ReadAll] \u274C ERROR: HeaderBar component still not found. Aborting.");return}console.log(`[ReadAll] \u{1F504} HeaderBar not found, retrying... (${10-e}/10)`),setTimeout(function(){return d(e-1)},500);return}u.after("default",t,function(f,o){return!o||!o.props||!Array.isArray(o.props.children)||(o.props.children.push(s.React.createElement(t.Button,{key:"markAllRead",icon:"CheckCircle",onPress:c,tooltip:"Mark All as Read"})),console.log("[ReadAll] \u2705 Button added to DM header!")),o})}var i={onLoad:function(){console.log("[ReadAll] \u{1F680} Plugin loaded! Searching for UI..."),d()},onUnload:function(){console.log("[ReadAll] \u{1F6D1} Plugin unloaded!")}};return n.default=i,Object.defineProperty(n,"__esModule",{value:!0}),n})({},vendetta.patcher,vendetta.metro,vendetta.metro.common,vendetta.ui.toasts);
