(function(s,n,o,r,i,l,d){"use strict";function g(){const a=d.storage.get("excludedUsers",[]),e=function(t){d.storage.set("excludedUsers",t.split(",").map(function(u){return u.trim()}))};return n.React.createElement(o.Forms.FormSection,{title:"Read All Messages Settings"},n.React.createElement(o.Forms.FormInput,{title:"Excluded Users (Comma Separated)",value:a.join(", "),onChange:e,placeholder:"Enter user IDs to exclude"}))}const f=l.findByProps("getUnreadGuilds"),m=l.findByProps("markRead");storage.get("excludedUsers")||storage.set("excludedUsers",[]);const p=function(){console.log("\u{1F4E9} Mark All as Read button clicked.");const a=f?.getUnreadGuilds?.()||[],e=storage.get("excludedUsers",[]),t=a.filter(function(u){return!e.includes(u)});if(t.length===0){r.showToast("All unread messages are from excluded users.",r.ToastType.INFO);return}console.log("\u2705 Marking these as read:",t),m.markRead(t),r.showToast("\u2705 Marked all messages as read!",r.ToastType.SUCCESS)},h=function(){return n.React.createElement(o.Button,{onClick:p,style:{padding:10,backgroundColor:"blue",color:"white"}},"\u{1F4E9} Mark All as Read")},k=l.findByProps("ChannelItem"),c=i.after("render",k,function(a,e){return e?.props?.children&&(console.log("\u{1F535} Injecting MarkAllReadButton..."),e.props.children.push(n.React.createElement(h,null))),e});var R={onLoad:function(){console.log("\u2705 Read All Messages Plugin Loaded!"),c()},onUnload:function(){return c?.()},settings:g};return s.default=R,Object.defineProperty(s,"__esModule",{value:!0}),s})({},vendetta,vendetta.ui.components,vendetta.ui.toasts,vendetta.patcher,vendetta.metro,vendetta.plugin);
