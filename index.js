(function(t,d,l,r,c){"use strict";function i(){const e=l.findByProps("ack","ackMessage");if(!e){console.error("[ReadAll] ERROR: ReadStateStore not found!");return}Object.keys(e.getUnreadCount()).forEach(function(o){e.ack(o)}),console.log("[ReadAll] Marked all messages as read.")}function a(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;console.log(`[ReadAll] Checking for sidebar component... (Attempt ${e})`);const o=l.findByProps("guilds","wrapper");return o?(console.log("[ReadAll] Sidebar component found!"),u(o),o):e>=10?(console.error("[ReadAll] ERROR: Sidebar component not found. Aborting."),null):setTimeout(function(){return a(e+1)},500)}function u(e){console.log("[ReadAll] Injecting button..."),d.after("default",e,function(o,n){return n?n.props.children.find(function(g){return g?.props?.id==="readall-button"})?(console.log("[ReadAll] Button already exists. Skipping re-injection."),n):(console.log("[ReadAll] Injecting button into sidebar..."),n.props.children=[r.React.createElement("div",{id:"readall-button",style:{padding:10,marginBottom:10}},r.React.createElement(c.Button,{onClick:i,style:{width:"100%"}},"\u2705 Read All")),...n.props.children],n):(console.error("[ReadAll] ERROR: Sidebar component returned empty."),n)}),console.log("[ReadAll] Button injected successfully.")}var s={onLoad:function(){console.log("[ReadAll] Plugin loaded! Waiting for UI..."),setTimeout(function(){return a()},2e3)},onUnload:function(){console.log("[ReadAll] Plugin unloaded!")}};return t.default=s,Object.defineProperty(t,"__esModule",{value:!0}),t})({},vendetta.patcher,vendetta.metro,vendetta.metro.common,vendetta.ui.components);
