(function(o,t,a,n,u,f){"use strict";const{FormSwitch:g}=f.Forms;n.storage.markDMs=n.storage.markDMs??!0;function h(){return t.React.createElement(g,{label:"Mark DMs as Read",value:n.storage.markDMs,onValueChange:function(e){return n.storage.markDMs=e}})}const{View:R,TouchableOpacity:v,Text:k,StyleSheet:m}=t.ReactNative,r=a.findByProps("ack","markChannelRead"),s=a.findByProps("getGuilds"),i=a.findByProps("getSortedPrivateChannels");(!r?.markChannelRead||!s?.getGuilds)&&console.error("[ReadAll] Missing required functions!");const y=function(){!r?.markChannelRead||!s?.getGuilds||(Object.keys(s.getGuilds()).forEach(function(e){r.markChannelRead(e)}),n.storage.markDMs&&i?.getSortedPrivateChannels&&i.getSortedPrivateChannels().forEach(function(e){r.markChannelRead(e.channel.id)}))};let l=null;const B=function(){const e=a.findByProps("NavBar","topBar","title");if(!e)return console.error("[ReadAll] Failed to find Navigation Bar!"),null;const D=function(){return t.React.createElement(v,{style:c.button,onPress:y},t.React.createElement(k,{style:c.text},"\u2714 Read All"))},d=e.NavBar;return e.NavBar=function(P){const M=d.apply(this,arguments);return t.React.createElement(R,{style:{flexDirection:"row",alignItems:"center"}},M,t.React.createElement(D,null))},function(){e.NavBar=d}},C=function(){u.registerSettings("read-all-settings",h),l=B()},b=function(){l&&l()},c=m.create({button:{padding:8,marginLeft:10,backgroundColor:"#7289DA",borderRadius:5},text:{color:"white",fontWeight:"bold"}});return o.onLoad=C,o.onUnload=b,o})({},vendetta.metro.common,vendetta.metro,vendetta.plugin,vendetta.settings,vendetta.ui.components);
