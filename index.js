(function(r,s,c,u){"use strict";const t=function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"log";console[n](`[ReadAll] ${e}`)},o=s.findByProps("ack","getUnreadCount");o||t("\u274C ReadState module not found!","error");function l(){try{const e=o?.getGuilds?o.getGuilds():{};if(!e){t("\u26A0\uFE0F No unread messages found.","warn"),u.showToast("No unread messages.",{type:"info"});return}Object.values(e).forEach(function(n){o.ack(n.id)}),u.showToast("All messages marked as read!",{type:"success"})}catch(e){t(`\u274C Error marking messages as read: ${e}`,"error"),u.showToast("Failed to mark messages as read.",{type:"error"})}}const i=function(){return r.React.createElement(r.ReactNative.TouchableOpacity,{onPress:l,style:{backgroundColor:"#5865F2",padding:10,borderRadius:8,margin:8,alignItems:"center"}},r.React.createElement(r.ReactNative.Text,{style:{color:"white",fontWeight:"bold"}},"Read All"))};(function(){let e=0;const n=setInterval(function(){const d=s.findByProps("NavigationSidebar")||s.findByProps("GuildsSidebar");d?.default?(t("\u2705 Sidebar found, injecting button!"),c.after("default",d,function(p,a){return!a||!a.props||a.props.children.find(function(f){return f?.type===i})||a.props.children.push(r.React.createElement(i,null)),a}),clearInterval(n)):(t(`Sidebar not found, retrying... (${e}/10)`),++e>=10&&(t("\u274C ERROR: Sidebar not found. Aborting.","error"),clearInterval(n)))},1e3)})()})(vendetta.metro.common,vendetta.metro,vendetta.patcher,vendetta.ui.toasts);
