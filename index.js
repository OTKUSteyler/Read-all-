(function(n,t,i,r,u){"use strict";const o=t.findByProps("ackMessage","getUnreadCount","isMentioned"),c=t.findByProps("getChannel","getDMFromUserId");console.log("[ReadAll] Looking for GuildsList...");const s=t.findByProps("Guilds","UnreadBadge");let l=null;function g(){const d=c.getChannels();let e=0;Object.values(d).forEach(function(a){o.getUnreadCount(a.id)>0&&(o.ackMessage(a.id),e++)}),u.showToast(`\u2705 Marked ${e} messages as read!`)}function f(){if(!s){console.error("[ReadAll] ERROR: GuildsList component not found!");return}console.log("[ReadAll] GuildsList found! Injecting button..."),l=i.after("default",s,function(d,e){return e?(console.log("[ReadAll] Injecting button into the UI..."),e.props.children=[t.React.createElement("div",{style:{padding:10}},t.React.createElement(r.Button,{onClick:g,style:{width:"100%",marginBottom:10}},"\u2705 Read All")),...e.props.children],e):(console.error("[ReadAll] ERROR: GuildsList returned empty."),e)}),console.log("[ReadAll] Button injected successfully.")}var R={start(){console.log("[ReadAll] Plugin starting..."),f(),console.log("[ReadAll] Plugin started.")},stop(){l&&(l(),console.log("[ReadAll] Plugin stopped, patch removed."))}};return n.default=R,Object.defineProperty(n,"__esModule",{value:!0}),n})({},vendetta.metro,vendetta.patcher,vendetta.ui.components,vendetta.ui.toasts);
