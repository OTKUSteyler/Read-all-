(function(l,c,t,d,i){"use strict";let r=0;function s(){const n=t.findByProps("ack","ackMessage");if(!n){console.error("[ReadAll] \u274C ERROR: ReadStateStore not found!");return}Object.keys(n.getUnreadCount()).forEach(function(o){n.ack(o)}),console.log("[ReadAll] \u2705 Marked all messages as read.")}function u(){console.log(`[ReadAll] \u{1F50E} Searching for a UI component... (Attempt ${r+1}/${10})`);try{const n=t.findByProps("GuildsNav"),o=t.findByProps("NavWrapper","Sidebar"),e=t.findByProps("PrivateChannels","DMUserEntry");if(n){console.log("[ReadAll] \u{1F3AF} Found GuildsNav!"),a(n);return}if(o){console.log("[ReadAll] \u{1F3AF} Found Sidebar!"),a(o);return}if(e){console.log("[ReadAll] \u{1F3AF} Found PrivateChannels (DM List)!"),a(e);return}r<10?(r++,setTimeout(u,2e3)):console.error("[ReadAll] \u274C ERROR: No valid UI component found. Aborting.")}catch(n){console.error("[ReadAll] \u26A0\uFE0F CRITICAL ERROR:",n)}}function a(n){try{c.after("default",n,function(o,e){let[A]=o;return!e||!e.props?(console.error("[ReadAll] \u274C ERROR: UIComponent returned empty."),e):e.props.children.find(function(f){return f?.props?.id==="readall-button"})?(console.log("[ReadAll] \u23E9 Button already exists. Skipping re-injection."),e):(e.props.children=[d.React.createElement("div",{id:"readall-button",style:{padding:10,marginBottom:10}},d.React.createElement(i.Button,{onClick:s,style:{width:"100%"}},"\u2705 Mark All as Read")),...e.props.children],e)}),console.log("[ReadAll] \u2705 Button injected successfully.")}catch(o){console.error("[ReadAll] \u274C Injection failed:",o)}}var R={onLoad:function(){console.log("[ReadAll] \u{1F680} Plugin loaded! Searching for UI..."),setTimeout(u,3e3)},onUnload:function(){console.log("[ReadAll] \u{1F6D1} Plugin unloaded!")}};return l.default=R,Object.defineProperty(l,"__esModule",{value:!0}),l})({},vendetta.patcher,vendetta.metro,vendetta.metro.common,vendetta.ui.components);
