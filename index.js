(function(o,t,a,n,u,f){"use strict";const{FormSwitch:g}=f.Forms;function h(){return t.React.createElement(g,{label:"Mark DMs as Read",value:n.storage.markDMs,onValueChange:function(e){return n.storage.markDMs=e}})}const{View:v,TouchableOpacity:R,Text:k,StyleSheet:m}=t.ReactNative;n.storage.markDMs===void 0&&(n.storage.markDMs=!0);const r=a.findByProps("ack","markChannelRead"),s=a.findByProps("getGuilds"),l=a.findByProps("getSortedPrivateChannels");(!r?.markChannelRead||!s?.getGuilds)&&console.error("[ReadAll] Missing required functions!");const B=function(){!r?.markChannelRead||!s?.getGuilds||(Object.keys(s.getGuilds()).forEach(function(e){r.markChannelRead(e)}),n.storage.markDMs&&l?.getSortedPrivateChannels&&l.getSortedPrivateChannels().forEach(function(e){r.markChannelRead(e.channel.id)}))};let i=null;const C=function(){const e=a.findByProps("NavBar","topBar","title");if(!e)return console.error("[ReadAll] Failed to find Navigation Bar!"),null;const D=function(){return t.React.createElement(R,{style:c.button,onPress:B},t.React.createElement(k,{style:c.text},"\u2714 Read All"))},d=e.NavBar;function M(P){const S=d(P);return t.React.createElement(v,{style:{flexDirection:"row",alignItems:"center"}},S,t.React.createElement(D,null))}return e.NavBar=M,function(){e.NavBar=d}},y=function(){u.registerSettings("read-all-settings",h),i=C()},b=function(){i&&i()},c=m.create({button:{padding:8,marginLeft:10,backgroundColor:"#7289DA",borderRadius:5},text:{color:"white",fontWeight:"bold"}});return o.onLoad=y,o.onUnload=b,o})({},vendetta.metro.common,vendetta.metro,vendetta.plugin,vendetta.settings,vendetta.ui.components);
