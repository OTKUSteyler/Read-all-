(function(r,e,a,n,d,f){"use strict";const{FormSwitch:g}=f.Forms;n.storage.markDMs=n.storage.markDMs??!0;function h(){return e.React.createElement(g,{label:"Mark DMs as Read",value:n.storage.markDMs,onValueChange:function(t){return n.storage.markDMs=t}})}const{TouchableOpacity:b,Text:k,StyleSheet:R}=require("react-native"),o=a.findByProps("ack","markChannelRead")?.markChannelRead,c=a.findByProps("getGuilds")?.getGuilds,i=a.findByProps("getSortedPrivateChannels")?.getSortedPrivateChannels,T=function(){!o||!c||(Object.keys(c()).forEach(function(t){return o(t)}),n.storage.markDMs&&i&&i().forEach(function(t){return o(t.channel.id)}))};let s=null;const m=function(){const t=a.findByProps("TopTabBar","tabBarContainer");if(!t)return null;const v=function(){return e.React.createElement(b,{style:l.button,onPress:T},e.React.createElement(k,{style:l.text},"\u2714 Read All"))},u=t.TopTabBar;return t.TopTabBar=function(C){const B=u.apply(this,arguments);return e.React.createElement(e.React.Fragment,null,B,e.React.createElement(v,null))},function(){t.TopTabBar=u}},y=function(){d.registerSettings("read-all-settings",h),s=m()},p=function(){s&&s()},l=R.create({button:{padding:8,marginHorizontal:10,backgroundColor:"#7289DA",borderRadius:5},text:{color:"white",fontWeight:"bold"}});return r.onLoad=y,r.onUnload=p,r})({},vendetta.metro.common,vendetta.metro,vendetta.plugin,vendetta.settings,vendetta.ui.components);
