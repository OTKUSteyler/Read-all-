(function(o,r,l,a,t,i,d){"use strict";function g(){const s=t.storage.get("excludedUsers",[]),e=function(n){t.storage.set("excludedUsers",n.split(",").map(function(u){return u.trim()}))};return r.React.createElement(l.Forms.FormSection,{title:"Read All Messages Settings"},r.React.createElement(l.Forms.FormInput,{title:"Excluded Users (Comma Separated)",value:s.join(", "),onChange:e,placeholder:"Enter user IDs to exclude"}))}const f=d.findByProps("getUnreadGuilds"),m=d.findByProps("markRead");t.storage.get("excludedUsers")||t.storage.set("excludedUsers",[]);const h=function(){console.log("\u{1F4E9} Mark All as Read button clicked.");const s=f?.getUnreadGuilds?.()||[],e=t.storage.get("excludedUsers",[]),n=s.filter(function(u){return!e.includes(u)});if(n.length===0){a.showToast("All unread messages are from excluded users.",a.ToastType.INFO);return}console.log("\u2705 Marking these as read:",n),m.markRead(n),a.showToast("\u2705 Marked all messages as read!",a.ToastType.SUCCESS)},p=function(){return r.React.createElement(l.Button,{onClick:h,style:{padding:10,backgroundColor:"blue",color:"white"}},"\u{1F4E9} Mark All as Read")},k=d.findByProps("ChannelItem"),c=i.after("render",k,function(s,e){return e?.props?.children&&(console.log("\u{1F535} Injecting MarkAllReadButton..."),e.props.children.push(r.React.createElement(p,null))),e});var R={onLoad:function(){console.log("\u2705 Read All Messages Plugin Loaded!"),c()},onUnload:function(){return c?.()},settings:g};return o.default=R,Object.defineProperty(o,"__esModule",{value:!0}),o})({},vendetta,vendetta.ui.components,vendetta.ui.toasts,vendetta.plugin,vendetta.patcher,vendetta.metro);
