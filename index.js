(function(e,u,s,t,n,r,f){"use strict";function g(){return React.createElement(f.General.FormSwitch,{label:"Enable Read All Button",value:r.storage.enabled??!0,onValueChange:function(a){r.storage.enabled=a}})}let i;const h=function(){const a=s.findByProps("ack","ackMessage");if(!a){n.showToast("Failed to find required Discord functions.",{type:"danger"});return}const c=s.findByProps("GuildsList");if(!c){n.showToast("Failed to find GuildsList.",{type:"danger"});return}i=u.after("default",c,function(R,o){return o?.props?.children&&o.props.children.unshift(t.React.createElement(t.ReactNative.TouchableOpacity,{style:{margin:10,padding:10,backgroundColor:"#5865F2",borderRadius:8},onPress:function(){const d=s.findByProps("getMutableGuilds")?.getMutableGuilds?.();d&&(Object.keys(d).forEach(function(b){const l=d[b]?.channels?.find?.(function(v){return v.is_read===!1})?.id;l&&a.ack(l)}),n.showToast("All messages marked as read!",{type:"success"}))}},t.React.createElement(t.ReactNative.Text,{style:{color:"#FFF",textAlign:"center"}},"Read All"))),o}),n.showToast("Read All Messages Button Added!",{type:"success"})},p=function(){i&&i()},y=g;return e.onLoad=h,e.onUnload=p,e.settings=y,e})({},vendetta.patcher,vendetta.metro,vendetta.metro.common,vendetta.ui.toasts,vendetta.plugin,vendetta.ui.components);
