(function(n,s,t,c,l){"use strict";const r=t.findByProps("ack","ackMessage"),u=t.findByProps("HeaderBar"),a=t.findByProps("Button","ButtonColors");function i(){if(!r){console.error("[ReadAll] \u274C ERROR: ReadStateStore not found!"),l.showToast("\u274C Error: Read state not found",{type:"error"});return}Object.keys(r.getUnreadCount()).forEach(function(e){r.ack(e)}),console.log("[ReadAll] \u2705 Marked all messages as read."),l.showToast("\u2705 All messages marked as read!",{type:"success"})}function d(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10;if(!u||!a){if(e<=0){console.error("[ReadAll] \u274C ERROR: Required components not found. Aborting.");return}console.log(`[ReadAll] \u{1F504} UI components not found, retrying... (${10-e}/10)`),setTimeout(function(){return d(e-1)},500);return}s.after("default",u,function(R,o){return!o||!o.props||!Array.isArray(o.props.children)||(o.props.children.push(c.React.createElement(a,{key:"markAllRead",text:"\u{1F4E9} Mark All Read",onPress:i,color:a.ButtonColors.BRAND})),console.log("[ReadAll] \u2705 Experimental button added to header!")),o})}var f={onLoad:function(){console.log("[ReadAll] \u{1F680} Plugin loaded! Adding experimental button..."),d()},onUnload:function(){console.log("[ReadAll] \u{1F6D1} Plugin unloaded!")}};return n.default=f,Object.defineProperty(n,"__esModule",{value:!0}),n})({},vendetta.patcher,vendetta.metro,vendetta.metro.common,vendetta.ui.toasts);
