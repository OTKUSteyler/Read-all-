(function(l,o,a,r,s,d){"use strict";function i(){const n=s.storage.get("excludedUsers",[]),e=function(t){s.storage.set("excludedUsers",t.split(",").map(function(u){return u.trim()}))};return o.React.createElement(a.Forms.FormSection,{title:"Read All Messages Settings"},o.React.createElement(a.Forms.FormInput,{title:"Excluded Users (Comma Separated)",value:n.join(", "),onChange:e,placeholder:"Enter user IDs to exclude"}))}const g=d.findByProps("getUnreadGuilds"),f=d.findByProps("markRead"),m=function(){console.log("\u{1F4E9} Mark All as Read button clicked.");const n=g?.getUnreadGuilds?.()||[],e=s.storage.get("excludedUsers",[]);console.log("Unread Guilds:",n),console.log("Excluded Users:",e);const t=n.filter(function(u){return!e.includes(u)});if(t.length===0){r.showToast("All unread messages are from excluded users.",r.ToastType.INFO);return}console.log("\u2705 Marking these as read:",t),f.markRead(t),r.showToast("\u2705 Marked all messages as read!",r.ToastType.SUCCESS)},p=function(){return console.log("Rendering Mark All Read Button"),o.React.createElement(a.Button,{onClick:m,style:{padding:10,backgroundColor:"blue",color:"white"}},"\u{1F4E9} Mark All as Read")},R=d.findByProps("ChannelItem"),c=after("render",R,function(n,e){return e?.props?.children&&(console.log("\u{1F535} Injecting MarkAllReadButton..."),e.props.children.push(o.React.createElement(p,null))),e});var k={onLoad:function(){console.log("\u2705 Read All Messages Plugin Loaded!"),c()},onUnload:function(){return c?.()},settings:i};return l.default=k,Object.defineProperty(l,"__esModule",{value:!0}),l})({},vendetta,vendetta.ui.components,vendetta.ui.toasts,vendetta.plugin,vendetta.metro);
