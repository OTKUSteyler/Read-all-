(function(n,t,i,r,u){"use strict";const l=t.findByProps("ackMessage","getUnreadCount","isMentioned"),c=t.findByProps("getChannel","getDMFromUserId"),s=t.findByProps("Guilds","UnreadBadge");let a=null;function f(){const o=c.getChannels();let e=0;Object.values(o).forEach(function(d){l.getUnreadCount(d.id)>0&&(l.ackMessage(d.id),e++)}),u.showToast(`\u2705 Marked ${e} messages as read!`)}function g(){if(!s){console.error("[ReadAll] Could not find the server list UI.");return}a=i.after("default",s,function(o,e){return e&&(e.props.children.unshift(t.React.createElement("div",{style:{padding:10}},t.React.createElement(r.Button,{onClick:f,style:{width:"100%",marginBottom:10}},"\u2705 Read All"))),e)}),console.log("[ReadAll] Button injected into the server list.")}var h={start(){g(),console.log("[ReadAll] Plugin started.")},stop(){a&&a(),console.log("[ReadAll] Plugin stopped.")}};return n.default=h,Object.defineProperty(n,"__esModule",{value:!0}),n})({},vendetta.metro,vendetta.patcher,vendetta.ui.components,vendetta.ui.toasts);
