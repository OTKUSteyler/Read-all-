(function(t,a,c,d){"use strict";const n=function(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"log";console[r](`[ReadAll] ${e}`)},o=a.findByProps("ack","isUnread")||a.findByProps("markAsRead");o||n("\u274C ReadState module NOT found! Retrying...","error");function l(){try{const e=o?.getUnreadChannels?o.getUnreadChannels():{};if(!e){n("\u26A0\uFE0F No unread messages found.","warn"),d.showToast("No unread messages.",{type:"info"});return}Object.keys(e).forEach(function(r){o.ack(r)}),d.showToast("All messages marked as read!",{type:"success"})}catch(e){n(`\u274C Error marking messages as read: ${e}`,"error"),d.showToast("Failed to mark messages as read.",{type:"error"})}}const i=function(){return t.React.createElement(t.ReactNative.TouchableOpacity,{onPress:l,style:{backgroundColor:"#5865F2",padding:10,borderRadius:8,margin:8,alignItems:"center"}},t.React.createElement(t.ReactNative.Text,{style:{color:"white",fontWeight:"bold"}},"Read All"))};(function(){let e=0;const r=setInterval(function(){const u=a.findByProps("MobileSidebar")||a.findByProps("GuildSidebar")||a.findByProps("SidebarContainer");u?.default?(n("\u2705 Sidebar found, injecting button!"),c.after("default",u,function(p,s){return!s||!s.props||s.props.children.find(function(f){return f?.type===i})||s.props.children.push(t.React.createElement(i,null)),s}),clearInterval(r)):(n(`Sidebar not found, retrying... (${e}/10)`),++e>=10&&(n("\u274C ERROR: Sidebar not found. Aborting.","error"),clearInterval(r)))},1e3)})()})(vendetta.metro.common,vendetta.metro,vendetta.patcher,vendetta.ui.toasts);
