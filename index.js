(function(s,t,n,f,g,m,a){"use strict";const{FormSwitch:h}=g.Forms;function k(){return t.React.createElement(h,{label:"Mark DMs as Read",value:n.storage.includeDMs,onValueChange:function(e){return n.storage.includeDMs=e}})}const{View:R,TouchableOpacity:b,Text:v,Alert:l}=require("react-native"),c=a.findByProps("ack","markChannelRead")?.markChannelRead,o=a.findByProps("getGuilds")?.getGuilds,d=a.findByProps("getSortedPrivateChannels")?.getSortedPrivateChannels;n.storage.includeDMs??=!0;let r=[];const i=function(){if(!c||!o){l.alert("Error","Unable to mark messages as read. Discord API changed.");return}Object.keys(o()).forEach(function(e){return c(e)}),n.storage.includeDMs&&d&&d().forEach(function(e){return c(e.channel.id)}),l.alert("Success","All messages marked as read!")},y=function(){const e=a.findByProps("tabBarItem","tabBarContainer");if(!e)return;const C=function(){return t.React.createElement(b,{style:{padding:10,marginVertical:5,borderRadius:5,backgroundColor:"#7289DA"},onPress:i},t.React.createElement(v,{style:{color:"white",fontWeight:"bold",textAlign:"center"}},"Mark All Read"))},u=e.default;return e.default=function(M){const E=u.apply(this,arguments);return t.React.createElement(R,null,E,t.React.createElement(C,null))},function(){e.default=u}},p=function(){f.registerSettings("mark-all-read-settings",k),r.push(y()),r.push(m.registerCommand({name:"markallread",displayName:"Mark All Read",description:"Marks all messages as read.",execute:function(){return i(),{content:"All messages marked as read!"}}}))},A=function(){r.forEach(function(e){return e?.()}),r=[]};return s.onLoad=p,s.onUnload=A,s})({},vendetta.metro.common,vendetta.plugin,vendetta.settings,vendetta.ui.components,vendetta.commands,vendetta.metro);
