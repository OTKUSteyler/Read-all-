(function(t,u,s,e,n,r,f){"use strict";const{FormSwitch:g}=f.Forms;function h(){return React.createElement(g,{label:"Enable Read All Button",value:r.storage.enabled??!0,onValueChange:function(a){r.storage.enabled=a}})}let i;const p=function(){const a=s.findByProps("ack","ackMessage");if(!a){n.showToast("Failed to find required Discord functions.",{type:"danger"});return}const c=s.findByProps("Guilds","GuildsList");if(!c?.Guilds){n.showToast("Failed to find the server list UI.",{type:"danger"});return}i=u.after("Guilds",c,function(b,d){return d?.props?.children&&d.props.children.unshift(e.React.createElement(e.ReactNative.View,{style:{padding:10}},e.React.createElement(e.ReactNative.TouchableOpacity,{style:{backgroundColor:"#5865F2",padding:10,borderRadius:5,alignItems:"center"},onPress:function(){const o=s.findByProps("getMutableGuilds")?.getMutableGuilds?.();o&&(Object.keys(o).forEach(function(F){const l=o[F]?.channels?.find?.(function(R){return R.is_read===!1})?.id;l&&a.ack(l)}),n.showToast("All messages marked as read!",{type:"success"}))}},e.React.createElement(e.ReactNative.Text,{style:{color:"#FFFFFF"}},"\u{1F4E9} Read All Messages")))),d}),n.showToast("Read All Messages Button Added to Server List!",{type:"success"})},v=function(){i&&i()},y=h;return t.onLoad=p,t.onUnload=v,t.settings=y,t})({},vendetta.patcher,vendetta.metro,vendetta.metro.common,vendetta.ui.toasts,vendetta.plugin,vendetta.ui.components);
